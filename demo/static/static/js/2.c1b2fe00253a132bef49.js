webpackJsonp([2],{"3FUm":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{dataFrom:n("iYqH").a},data:function(){return{tmpStyle:JSON.parse(this.styleConfig),color:{},showDetail:!1,colorList:{tableBG:{name:"表格背景",tag:"table",property:"background"},tdBorder:{name:"单元格边框",tag:"td",property:"border: solid 1px"},thBorder:{name:"表头边框",tag:"th",property:"border: solid 1px"},trOdd:{name:"单数行背景",tag:"tr:nth-child(odd)",property:"background"},trEven:{name:"双数行背景",tag:"tr:nth-child(even)",property:"background"},trHover:{name:"行悬停",tag:"tr:hover",property:"background"},tdBGHover:{name:"单元格悬停背景",tag:"td:hover",property:"background"},tdHover:{name:"单元格悬停文字",tag:"td:hover",property:"color"},aHover:{name:"按钮悬停",tag:"a:hover",property:"color"}}}},created:function(){this.tmpStyle.color||(this.tmpStyle.color={}),this.color=this.tmpStyle.color},props:["styleConfig"],methods:{makeColorConfig:function(){var t="";for(var e in this.color)t+=this.initTableColorCSS(e,this.color[e]);return t},configColor:function(){this.initStyle(this.makeColorConfig())},configBaseWithColor:function(){this.tmpStyle.style=this.tmpStyle.base+"\n"+this.makeColorConfig(),console.log(this.tmpStyle.style),this.initStyle(this.tmpStyle.style)},initTableColorCSS:function(t,e){var n=this.colorList[t],a=".xdTable ";a+=n.tag+" {";var i=n.property;return i+=n.property.match(":")?"":":",a+=i+" "+e+"}\n"},resetEdit:function(){this.tmpStyle=JSON.parse(this.styleConfig)},saveEdit:function(){confirm("保存对主题的修改?")&&this.$http.post("/api/editTable",{table:JSON.stringify(this.tmpStyle,"\t",2),name:"style"}).then(function(t){alert("修改成功"),window.location.reload()}).catch(function(t){alert("修改失败,请检查重试"),console.log(t)})}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{float:"right",margin:"10px"},on:{click:t.saveEdit}},[t._v("保存")]),t._v(" "),n("el-button",{staticStyle:{margin:"10px",float:"right"},on:{click:t.resetEdit}},[t._v("重置")]),t._v(" "),n("el-button",{staticStyle:{margin:"10px",float:"right"},on:{click:t.configBaseWithColor}},[t._v("测试")]),t._v(" "),n("div",{staticStyle:{clear:"both"}}),t._v(" "),n("el-form",{staticStyle:{width:"200px",float:"left"},attrs:{labelWidth:"120px"}},t._l(t.colorList,function(e,a){return n("el-form-item",{key:a,staticStyle:{height:"30px"},attrs:{label:e.name}},[n("el-color-picker",{attrs:{"show-alpha":""},on:{change:t.configColor},model:{value:t.color[a],callback:function(e){t.$set(t.color,a,e)},expression:"color[key]"}})],1)})),t._v(" "),n("div",{staticStyle:{float:"right",width:"calc(100% - 200px)","text-align":"left"}},[t._v("\n    效果预览 ("),n("span",{staticStyle:{color:"red","font-size":"80%"}},[t._v("*最终样式为基础样式加颜色设置")]),t._v("):\n    "),n("data-from",{attrs:{config:{table:{test:{},test2:{},test3:{},test4:{},test5:{}},data:[{test:"test",test2:"test"},{}]}}}),t._v("\n    基础样式 :\n    "),n("el-input",{attrs:{type:"textarea",rows:20},model:{value:t.tmpStyle.base,callback:function(e){t.$set(t.tmpStyle,"base",e)},expression:"tmpStyle['base']"}})],1),t._v(" "),n("div",{staticStyle:{clear:"both"}}),t._v(" "),t.showDetail?n("el-input",{attrs:{type:"textarea",rows:20},model:{value:t.tmpStyle.style,callback:function(e){t.$set(t.tmpStyle,"style",e)},expression:"tmpStyle['style']"}}):t._e()],1)},staticRenderFns:[]},o=n("VU/8")(a,i,!1,function(t){n("qq3W")},null,null);e.default=o.exports},"8Bw/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"10px",display:"inline-block"}},[n("el-popover",{ref:"controller",attrs:{placement:"right"}},[n("el-form",{staticStyle:{"text-align":"left",height:"500px","overflow-y":"scroll"},attrs:{labelWidth:"100px"}},t._l(t.config,function(e,a){return n("el-form-item",{key:a,attrs:{label:"divide"===e.type?"--":e.name}},["group"===e.type?n("el-select",{staticStyle:{width:"200px"},model:{value:t.tmpData[a],callback:function(e){t.$set(t.tmpData,a,e)},expression:"tmpData[key]"}},[n("el-option",{attrs:{value:"",label:"默认"}}),t._v(" "),t._l(t.tmpData,function(e,a){return"_"!==a[0]?n("el-option",{key:a,attrs:{value:a}}):t._e()})],2):"bool"===e.type?n("el-switch",{model:{value:t.tmpData[a],callback:function(e){t.$set(t.tmpData,a,e)},expression:"tmpData[key]"}}):"divide"===e.type?n("span",[t._v("\n          "+t._s(e.name)+"\n        ")]):n("el-input",{staticStyle:{width:"200px"},model:{value:t.tmpData[a],callback:function(e){t.$set(t.tmpData,a,e)},expression:"tmpData[key]"}})],1)}))],1),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:controller",arg:"controller"}]},[t._v("高级属性")])],1)},staticRenderFns:[]},i=n("VU/8")({data:function(){return{config:{_name:{name:"表格名",type:""},_sort:{name:"初始排序",type:"group"},_rsort:{name:"逆序",type:"bool"},_fresh:{name:"定时刷新",type:"bool"},_tfresh:{name:"间隔(秒)",type:""},_admin:{name:"仅管理员可见",type:"bool"},_superAdmin:{name:"仅超管可见",type:"bool"},_divide:{name:"以下仅支持动态表格(试验功能)",type:"divide"},_api:{name:"API接口",type:""},_pageForm:{name:"按日期展示",type:"bool"},_startTime:{name:"开始天数",type:""},_endTime:{name:"结束天数",type:""}}}},props:["tmpData"],methods:{}},a,!1,function(t){n("dwD7")},null,null);e.default=i.exports},FXgY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("iYqH"),i=n("8Bw/"),o={components:{dataForm:a.a,propertyEditor:i.default},props:["tableData"],data:function(){return{showPreSeen:!1,exEdit:!1,selectFile:"",tmpData:{},tableTemplate:{name:{name:"字段名"},type:{name:"类型",select:{"分组":"group","时间":"time","无":""}},superAdmin:{name:"仅超级管理员可见",type:"bool"},hidden:{name:"默认隐藏",type:"bool"},url:{name:"Url链接",type:"bool"},admin:{name:"仅管理员可见",type:"bool"},computed:{name:"合并/计算属性"},map:{name:"映射",type:"list"},style:{name:"样式",type:"list"}}}},methods:{importFromFile:function(t){var e=this,n=new FileReader;n.readAsText(t),n.onerror=function(t){alert("文件导入失败,请检查重试"),console.log(t)},n.onload=function(t){try{e.tmpData=JSON.parse(t.target.result)}catch(t){alert("文件格式有误,请检查重试")}}},useExEdit:function(){this.exEdit=JSON.stringify(this.tmpData,"\t",2)},saveExEdit:function(){try{this.tmpData=JSON.parse(this.exEdit),this.exEdit=""}catch(t){alert("编辑有误,请检查重试")}},deleteTable:function(){confirm("确认删除表"+this.selectFile+"?")&&window.location.reload()},newTable:function(){var t=prompt("请输入要新建的表名");t&&(this.$set(this.tableData,t,"{}"),this.selectFile=t,this.tmpData={})},addKeyToList:function(t,e){t[e]||this.$set(t,e,{});var n=t[e],a=prompt("请输入要新增的键名");a&&this.$set(n,a,"")},saveEdit:function(){var t=this;confirm("保存对表 "+this.selectFile+" 的修改?")&&this.$http.post("/api/editTable",{table:JSON.stringify(this.tmpData,"\t",2),name:this.selectFile}).then(function(e){alert("修改成功"),t.$set(t.$store.state.form,t.selectFile,t.tmpData),t.tableData[t.selectFile]=JSON.stringify(t.tmpData,"\t",2)}).catch(function(t){alert("修改失败,请检查重试"),console.log(t)})},moveKey:function(t,e){var n=this,a={},i=Object.keys(this.tmpData),o=i.indexOf(t);i.splice(o,1),i.splice(o-e,0,t),i.map(function(t){a[t]=n.tmpData[t]}),this.tmpData=a},addField:function(){var t=prompt("请输入字段(属性名)");t&&(this.tmpData.hasOwnProperty(t)?alert("字段已存在"):this.$set(this.tmpData,t,{}))},delField:function(t){this.$delete(this.tmpData,t)}},created:function(){}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{float:"left"}},[n("span",{staticStyle:{margin:"10px"}},[t._v("选择表格")]),t._v(" "),n("el-select",{staticStyle:{margin:"0 10px"},attrs:{placeholder:"请选择要编辑的表"},on:{change:function(e){t.tmpData=JSON.parse(t.tableData[t.selectFile])}},model:{value:t.selectFile,callback:function(e){t.selectFile=e},expression:"selectFile"}},t._l(t.tableData,function(e,a){return-1===["headMenu","style","statusControl"].indexOf(a)?n("el-option",{key:a,attrs:{value:a,label:(JSON.parse(e)._name||"")+" "+a}}):t._e()})),t._v(" "),n("el-button",{on:{click:t.newTable}},[t._v("新建表格")])],1),t._v(" "),t.selectFile?n("div",{staticStyle:{float:"right"}},[n("el-button",{on:{click:t.saveEdit}},[t._v("\n      保存\n    ")]),t._v(" "),n("el-button",{on:{click:function(e){t.tmpData=JSON.parse(t.tableData[t.selectFile])}}},[t._v("\n      重置\n    ")]),t._v(" "),n("el-button",{on:{click:t.useExEdit}},[t._v("\n      高级编辑器\n    ")])],1):t._e(),t._v(" "),n("div",{staticStyle:{clear:"both"}}),t._v(" "),t.selectFile?n("div",{staticStyle:{float:"left"}},[n("el-upload",{staticStyle:{display:"inline-block",margin:"0 10px 0 0"},attrs:{"before-upload":t.importFromFile,action:"/"}},[n("el-button",[t._v("导入配置")])],1),t._v(" "),n("el-button",{on:{click:function(e){t.downloadFile(JSON.stringify(t.tmpData,"\t",2),t.selectFile)}}},[t._v("\n      下载配置\n    ")]),t._v(" "),n("el-button",{on:{click:function(e){t.showPreSeen=!t.showPreSeen}}},[t._v("\n      查看预览\n    ")]),t._v(" "),t.selectFile?n("property-editor",{key:t.selectFile,attrs:{tmpData:t.tmpData}}):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"xdTable",staticStyle:{clear:"both",width:"100%"}},[t.tableData[t.selectFile]?n("table",[n("tr",[n("td",[t._v("字段")]),t._v(" "),t._l(t.tableTemplate,function(e,a){return n("td",[t._v(t._s(e.name))])}),t._v(" "),n("td",[t._v("更改次序")]),t._v(" "),n("td",[t._v("操作")])],2),t._v(" "),t._l(t.tmpData,function(e,a){return"_"!==a[0]?n("tr",{staticStyle:{height:"40px"}},[n("td",[t._v(t._s(a))]),t._v(" "),t._l(t.tableTemplate,function(a,i){return n("td",["bool"===a.type?n("el-switch",{model:{value:e[i],callback:function(n){t.$set(e,i,n)},expression:"data[key]"}}):a.select?n("el-select",{model:{value:e[i],callback:function(n){t.$set(e,i,n)},expression:"data[key]"}},t._l(a.select,function(t,e){return n("el-option",{key:t,attrs:{value:t,label:e}})})):a.type||a.select?"list"===a.type?n("div",{staticStyle:{"white-space":"nowrap"}},[n("el-popover",{attrs:{width:"300px",placement:"bottom",trigger:"click"}},[n("el-form",{staticStyle:{"max-height":"300px","overflow-y":"scroll"},attrs:{labelWidth:"50px"}},[t._l(e[i],function(a,o){return e[i]?n("el-form-item",{key:o+i,attrs:{label:o}},[n("el-input",{model:{value:e[i][o],callback:function(n){t.$set(e[i],o,n)},expression:"data[key][mapK]"}},[n("el-button",{attrs:{slot:"append"},on:{click:function(n){t.$delete(e[i],o)}},slot:"append"},[t._v("删除键")])],1)],1):t._e()}),t._v(" "),n("el-form-item",{attrs:{label:"功能"}},[n("el-button",{on:{click:function(n){t.addKeyToList(e,i)}}},[t._v("新增键")])],1)],2),t._v(" "),n("el-button",{staticStyle:{width:"100px"},attrs:{slot:"reference"},slot:"reference"},[t._v("编辑")])],1)],1):t._e():n("el-input",{staticStyle:{width:"130px"},model:{value:e[i],callback:function(n){t.$set(e,i,n)},expression:"data[key]"}})],1)}),t._v(" "),n("td",[0!==Object.keys(t.tmpData).indexOf(a)?n("a",{staticClass:"el-icon-arrow-up",staticStyle:{margin:"0 10px"},on:{click:function(e){t.moveKey(a,1)}}}):t._e(),t._v(" "),Object.keys(t.tmpData).indexOf(a)!==Object.keys(t.tmpData).length-1?n("a",{staticClass:"el-icon-arrow-down",staticStyle:{margin:"0 10px"},on:{click:function(e){t.moveKey(a,-1)}}}):t._e()]),t._v(" "),n("td",[n("a",{on:{click:function(e){t.delField(a)}}},[t._v("删除字段")])])],2):t._e()}),t._v(" "),n("tr",[n("td",{staticClass:"click",attrs:{colspan:Object.keys(t.tableTemplate).length+3},on:{click:t.addField}},[n("i",{staticClass:"el-icon-plus"})])])],2):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.exEdit?n("div",{staticClass:"editCover",on:{click:function(e){t.exEdit=!1}}},[n("div",{staticClass:"editBox",on:{click:function(t){t.stopPropagation()}}},[n("el-input",{attrs:{rows:30,type:"textarea"},model:{value:t.exEdit,callback:function(e){t.exEdit=e},expression:"exEdit"}}),t._v(" "),n("el-button",{staticStyle:{width:"200px",margin:"20px"},on:{click:t.saveExEdit}},[t._v("保存")]),t._v(" "),n("el-button",{staticStyle:{width:"200px",margin:"20px"},attrs:{d:""},on:{click:function(e){t.exEdit=!1}}},[t._v("取消")])],1)]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showPreSeen?n("div",{staticClass:"editCover",on:{click:function(e){t.showPreSeen=!1}}},[n("div",{staticClass:"editBox",on:{click:function(t){t.stopPropagation()}}},[n("data-form",{attrs:{config:{table:t.tmpData,data:[]}}})],1)]):t._e()])],1)},staticRenderFns:[]},s=n("VU/8")(o,l,!1,function(t){n("STx+")},"data-v-7614fb92",null);e.default=s.exports},Gerd:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"propertyEditor.vue",sourceRoot:""}])},JwcL:function(t,e,n){var a=n("KRCE");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("d470ff02",a,!0)},KRCE:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n.spreadMenu[data-v-583bde4e]:hover {\n  cursor: pointer;\n}\n.editCover[data-v-583bde4e] {\n  position: fixed;\n  background: rgba(255, 255, 255, 0.7);\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  overflow-y: scroll;\n}\n.editBox[data-v-583bde4e] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 2%;\n  margin: 0 auto;\n  max-width: 100%;\n  word-break: break-all;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  text-align: center;\n  color: black;\n  overflow-y: scroll;\n}\n","",{version:3,sources:["/Users/Maple/Desktop/gin-vue-webclient/src/page/systemManage/head.vue"],names:[],mappings:";AACA;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;EAChB,qCAAqC;EACrC,aAAa;EACb,YAAY;EACZ,OAAO;EACP,QAAQ;EACR,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,+BAA+B;UACvB,uBAAuB;EAC/B,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,sBAAsB;EACtB,sBAAsB;EACtB,0BAA0B;EAC1B,mBAAmB;EACnB,aAAa;EACb,mBAAmB;CACpB",file:"head.vue",sourcesContent:["\n.spreadMenu[data-v-583bde4e]:hover {\n  cursor: pointer;\n}\n.editCover[data-v-583bde4e] {\n  position: fixed;\n  background: rgba(255, 255, 255, 0.7);\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  overflow-y: scroll;\n}\n.editBox[data-v-583bde4e] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 2%;\n  margin: 0 auto;\n  max-width: 100%;\n  word-break: break-all;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  text-align: center;\n  color: black;\n  overflow-y: scroll;\n}\n"],sourceRoot:""}])},Lgyu:function(t,e,n){var a=n("zj0a");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("40ff3853",a,!0)},"STx+":function(t,e,n){var a=n("x+A0");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("613ff598",a,!0)},dwD7:function(t,e,n){var a=n("Gerd");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("00abae02",a,!0)},ffax:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{tmpHeadMenu:{},exEdit:!1,backUpHeadMenu:JSON.parse(JSON.stringify(this.$store.state.menu||{})),spreadMenu:"",menuTemplate:{name:{name:"菜单名"},superAdmin:{name:"仅超级管理员可见",type:"bool"},admin:{name:"仅管理员可见",type:"bool"},route:{name:"路由"}},itemMenuTemplate:{name:{name:"子菜单名"},superAdmin:{name:"仅超级管理员可见",type:"bool"},admin:{name:"仅管理员可见",type:"bool"},route:{name:"路由"},bindTable:{name:"绑定表格(试验)",type:"select",select:[]}}}},props:["tableData"],created:function(){var t=this;this.tmpHeadMenu=JSON.parse(this.tableData.headMenu),Object.keys(this.tableData).map(function(e){var n={name:e,value:e.replace(".json","")};t.itemMenuTemplate.bindTable.select.push(n)})},methods:{saveExEdit:function(){try{this.tmpHeadMenu=JSON.parse(this.exEdit),this.exEdit=""}catch(t){alert("编辑有误,请检查重试")}},saveMenuEdit:function(){var t=this;confirm("保存对菜单的修改?")&&this.$http.post("/api/editTable",{table:JSON.stringify(this.tmpHeadMenu,"\t",2),name:"headMenu"}).then(function(e){alert("修改成功"),t.$set(t.$store.state.form,"headMenu",JSON.parse(JSON.stringify(t.tmpHeadMenu))),t.tableData.headMenu=JSON.stringify(t.tmpHeadMenu,"\t",2),t.$store.state.menu=JSON.parse(JSON.stringify(t.tmpHeadMenu))}).catch(function(t){alert("修改失败,请检查重试"),console.log(t)})},testMenuConfig:function(){this.$store.state.menu=JSON.parse(JSON.stringify(this.tmpHeadMenu))},addMenu:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=prompt("请输入新菜单的键值");n&&(t[n]?alert("菜单已存在!"):e?(t[e]||this.$set(t,e,{}),this.$set(t[e],n,{name:""})):this.$set(t,n,{name:""}))}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{margin:"10px",float:"right"},on:{click:t.saveMenuEdit}},[t._v("保存")]),t._v(" "),n("el-button",{staticStyle:{margin:"10px",float:"right"},on:{click:function(e){t.tmpHeadMenu=JSON.parse(JSON.stringify(t.backUpHeadMenu))}}},[t._v("重置\n  ")]),t._v(" "),n("el-button",{staticStyle:{margin:"10px",float:"right"},on:{click:t.testMenuConfig}},[t._v("测试")]),t._v(" "),n("el-button",{staticStyle:{margin:"10px",float:"right"},on:{click:function(e){t.exEdit=JSON.stringify(t.tmpHeadMenu,"\t",2)}}},[t._v("\n    高级编辑器\n  ")]),t._v(" "),n("div",{staticStyle:{float:"left",margin:"10px"}},[t._v("\n    网站标题 :\n    "),n("el-input",{staticStyle:{width:"200px"},model:{value:t.tmpHeadMenu._title,callback:function(e){t.$set(t.tmpHeadMenu,"_title",e)},expression:"tmpHeadMenu['_title']"}}),t._v("\n    样式(css语句) :\n    "),n("el-input",{staticStyle:{width:"200px"},model:{value:t.tmpHeadMenu._titleStyle,callback:function(e){t.$set(t.tmpHeadMenu,"_titleStyle",e)},expression:"tmpHeadMenu['_titleStyle']"}})],1),t._v(" "),n("table",{staticClass:"xdTable",staticStyle:{width:"100%"}},[n("tr",{staticStyle:{background:"#83a6cc",color:"#fff"}},[n("td",[t._v("主菜单")]),t._v(" "),t._l(t.menuTemplate,function(e,a){return n("td",[t._v(t._s(e.name))])}),t._v(" "),n("td",[t._v("操作")])],2),t._v(" "),t._l(t.tmpHeadMenu,function(e,a){return"_"!==a[0]?n("tbody",[n("tr",[n("td",{staticClass:"spreadMenu",on:{click:function(e){t.spreadMenu=t.spreadMenu===a?"":a}}},[n("i",{class:t.spreadMenu===a?"el-icon-arrow-up":"el-icon-arrow-down"}),t._v("\n        "+t._s(a)+"\n      ")]),t._v(" "),t._l(t.menuTemplate,function(a,i){return n("td",["bool"===a.type?n("el-switch",{model:{value:e[i],callback:function(n){t.$set(e,i,n)},expression:"menuConfig[key]"}}):n("el-input",{model:{value:e[i],callback:function(n){t.$set(e,i,n)},expression:"menuConfig[key]"}})],1)}),t._v(" "),n("td",{staticClass:"spreadMenu",on:{click:function(e){t.$delete(t.tmpHeadMenu,a)}}},[t._v("删除菜单")])],2),t._v(" "),t.spreadMenu===a?n("tr",[n("td",{staticClass:"spreadMenu",attrs:{rowspan:Object.keys(e.item||{}).length+2},on:{click:function(e){t.spreadMenu=""}}},[n("a",{staticStyle:{height:"100%",display:"block",width:"100%"}},[t._v("收起")])]),t._v(" "),n("td",[t._v("子菜单")]),t._v(" "),t._l(t.itemMenuTemplate,function(e,a){return n("td",[t._v(t._s(e.name))])}),t._v(" "),n("td",[t._v("操作")])],2):t._e(),t._v(" "),t._l(e.item||{},function(i,o){return t.spreadMenu===a?n("tr",[n("td",[t._v(t._s(o))]),t._v(" "),t._l(t.itemMenuTemplate,function(e,a){return n("td",["bool"===e.type?n("el-switch",{model:{value:i[a],callback:function(e){t.$set(i,a,e)},expression:"itemMenu[key]"}}):"select"===e.type?n("el-select",{model:{value:i[a],callback:function(e){t.$set(i,a,e)},expression:"itemMenu[key]"}},t._l(e.select,function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.name}})})):n("el-input",{model:{value:i[a],callback:function(e){t.$set(i,a,e)},expression:"itemMenu[key]"}})],1)}),t._v(" "),n("td",{staticClass:"spreadMenu",on:{click:function(n){t.$delete(e.item,o)}}},[t._v("删除子菜单")])],2):t._e()}),t._v(" "),t.spreadMenu===a?n("tr",[n("td",{staticClass:"spreadMenu",attrs:{colspan:Object.keys(t.itemMenuTemplate).length+2},on:{click:function(n){t.addMenu(e,"item")}}},[n("i",{staticClass:"el-icon-plus"})])]):t._e()],2):t._e()}),t._v(" "),n("tr",[n("td",{staticClass:"spreadMenu",attrs:{colspan:Object.keys(t.menuTemplate).length+2},on:{click:function(e){t.addMenu(t.tmpHeadMenu)}}},[n("i",{staticClass:"el-icon-plus"})])])],2),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.exEdit?n("div",{staticClass:"editCover",on:{click:function(e){t.exEdit=!1}}},[n("div",{staticClass:"editBox",on:{click:function(t){t.stopPropagation()}}},[n("el-input",{attrs:{rows:30,type:"textarea"},model:{value:t.exEdit,callback:function(e){t.exEdit=e},expression:"exEdit"}}),t._v(" "),n("el-button",{staticStyle:{width:"200px",margin:"20px"},on:{click:t.saveExEdit}},[t._v("保存")]),t._v(" "),n("el-button",{staticStyle:{width:"200px",margin:"20px"},on:{click:function(e){t.exEdit=!1}}},[t._v("取消")])],1)]):t._e()])],1)},staticRenderFns:[]},o=n("VU/8")(a,i,!1,function(t){n("JwcL")},"data-v-583bde4e",null);e.default=o.exports},npvy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("FXgY"),i=n("ffax"),o=n("3FUm"),l={components:{tableManage:a.default,headManage:i.default,styleManage:o.default},data:function(){return{tableData:{}}},methods:{saveAllConfig:function(){confirm("确认保存所有配置?建议先将当前配置备份!")&&this.$http.post("/api/saveAllConfig",this.tableData).then(function(t){alert("保存成功"),window.location.reload()}).catch(function(t){console.log(t),alert("保存失败,请稍后再试")})},downloadAllConfig:function(){this.downloadFile(JSON.stringify(this.tableData,"\t",2),"config.json")},importAllConfigFromFile:function(t){var e=this,n=new FileReader;n.readAsText(t),n.onerror=function(t){console.log(t)},n.onload=function(t){try{var n=JSON.parse(t.target.result);for(var a in n)JSON.parse(n[a]);e.tableData=n,alert("导入成功")}catch(t){console.log(t),alert("文件格式有误,请检查重试")}}}},created:function(){var t=this;this.checkSuperAdmin()||this.$router.push("/"),this.$http.get("/api/table").then(function(e){if(t.tableData=e.data.data,t.tableData.headMenu||(t.tableData.headMenu="{}"),!t.tableData.style){t.tableData.style=JSON.stringify(JSON.parse('{\n  "style": "",\n  "color": {\n    "aHover": "rgba(62, 138, 245, 1)",\n    "tdBGHover": "rgba(179, 206, 255, 0.5)",\n    "tdHover": "rgba(30, 144, 215, 1)",\n    "trHover": "rgba(199, 223, 255, 0.5)",\n    "thBorder": "rgba(209, 232, 255, 0.49)",\n    "tdBorder": "rgba(235, 248, 255, 0.49)",\n    "tableBG": "rgba(255, 255, 255, 0.8)"\n  },\n  "base": ".xdTable{}"\n}'.replace(/[\n\r]/g,"")))}}).catch(function(t){console.log(t)})}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{float:"right"}},[e("el-button",{on:{click:this.saveAllConfig}},[this._v("保存配置")]),this._v(" "),e("el-button",{on:{click:this.downloadAllConfig}},[this._v("下载配置")]),this._v(" "),e("el-upload",{staticStyle:{display:"inline-block",margin:"10px"},attrs:{"before-upload":this.importAllConfigFromFile,action:"/"}},[e("el-button",[this._v("导入配置")])],1)],1),this._v(" "),e("div",{staticStyle:{clear:"both"}}),this._v(" "),e("el-tabs",{staticStyle:{padding:"10px"},attrs:{type:"card"}},[e("el-tab-pane",{attrs:{label:"表格管理"}},[e("table-manage",{attrs:{tableData:this.tableData}})],1),this._v(" "),e("el-tab-pane",{attrs:{label:"菜单管理"}},[this.tableData.headMenu?e("head-manage",{attrs:{tableData:this.tableData}}):this._e()],1),this._v(" "),e("el-tab-pane",{attrs:{label:"主题管理"}},[this.tableData.style?e("style-manage",{attrs:{styleConfig:this.tableData.style}}):this._e()],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")(l,s,!1,function(t){n("Lgyu")},"data-v-c64c4ebc",null);e.default=r.exports},qq3W:function(t,e,n){var a=n("wbPx");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("8bc4deb6",a,!0)},wbPx:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"style.vue",sourceRoot:""}])},"x+A0":function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n.editCover[data-v-7614fb92] {\n  position: fixed;\n  background: rgba(255, 255, 255, 0.7);\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  overflow-y: scroll;\n}\n.editBox[data-v-7614fb92] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 2%;\n  margin: 0 auto;\n  max-width: 100%;\n  word-break: break-all;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  text-align: center;\n  color: black;\n  overflow-y: scroll;\n}\n","",{version:3,sources:["/Users/Maple/Desktop/gin-vue-webclient/src/page/systemManage/table.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,qCAAqC;EACrC,aAAa;EACb,YAAY;EACZ,OAAO;EACP,QAAQ;EACR,cAAc;EACd,mBAAmB;CACpB;AACD;EACE,+BAA+B;UACvB,uBAAuB;EAC/B,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,sBAAsB;EACtB,sBAAsB;EACtB,0BAA0B;EAC1B,mBAAmB;EACnB,aAAa;EACb,mBAAmB;CACpB",file:"table.vue",sourcesContent:["\n.editCover[data-v-7614fb92] {\n  position: fixed;\n  background: rgba(255, 255, 255, 0.7);\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  overflow-y: scroll;\n}\n.editBox[data-v-7614fb92] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 2%;\n  margin: 0 auto;\n  max-width: 100%;\n  word-break: break-all;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  text-align: center;\n  color: black;\n  overflow-y: scroll;\n}\n"],sourceRoot:""}])},zj0a:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])}});