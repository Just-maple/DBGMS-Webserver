webpackJsonp([4],{3546:function(t,e,n){var o=n("syhU");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("b2810284",o,!0)},CxVj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){return{username:"",password:""}},created:function(){},methods:{getIP:function(t){this.$http.get("")},login:function(){this.$store.getters.userValid?this.$http.get("/api/logout").then(function(t){window.localStorage.clear("form"),window.location.reload()}).catch(function(t){window.localStorage.clear("form"),console.log(t)}):this.postLogin()},postLogin:function(){this.$http.post("/api/login",{nickname:this.username,password:this.password}).then(function(t){t.data.ok?window.location.reload():(alert("未知错误,请重试"),console.log(t.data))}).catch(function(t){"auth failed"===t.data.err?alert("登录失败,请检查您的用户名或密码"):(alert("登录失败,请检查网络或通知网站管理员"),console.log(t))})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"0 auto"}},[n("div",{staticClass:"loginBox"},[n("div",{staticStyle:{margin:"8%","text-align":"left","font-size":"25px",width:"86%"}},[n("div",{staticStyle:{color:"#455b43"}},[t._v("\n        "+t._s(t.$store.getters.userValid?"当前用户 : "+t.$store.getters.username:"登录")+"\n      ")]),t._v(" "),n("div",{staticStyle:{height:"80px"}},[t.$store.getters.userValid?n("div",{staticStyle:{color:"#455b43",padding:"20px 0"}},[n("p",[t._v("最近登录时间 : "),n("span",[t._v(t._s(t.formatDate(t.$store.state.user.TProcess)))])])]):n("el-input",{staticClass:"input",attrs:{placeholder:"用户名"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),n("div",{staticStyle:{height:"80px"}},[t.$store.getters.userValid?n("div",{staticStyle:{color:"#455b43",padding:"20px 0"}},[n("p",[t._v("最近登录IP : "),n("span",[t._v(t._s(t.$store.state.user.IP))])])]):n("el-input",{staticClass:"input",attrs:{placeholder:"密码",type:"password"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("div",{staticStyle:{width:"100%","text-align":"center","margin-top":"50px"}},[n("el-button",{staticStyle:{width:"200px",height:"50px"},attrs:{type:t.$store.state.buttonType},on:{click:t.login}},[t._v("\n          "+t._s(t.$store.getters.userValid?"退出登录":"登录")+"\n        ")])],1)])])])},staticRenderFns:[]},i=n("VU/8")(o,s,!1,function(t){n("3546")},"data-v-73434f38",null);e.default=i.exports},syhU:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n.input[data-v-73434f38] {\n  margin-top: 30px;\n}\n.loginBox[data-v-73434f38] {\n  border: 1px solid #eeeeee;\n  width: 600px;\n  display: inline-block;\n  margin: 50px;\n  -webkit-box-shadow: 8px 8px 5px #888888;\n          box-shadow: 8px 8px 5px #888888;\n}\n","",{version:3,sources:["/Users/Maple/Desktop/gin-vue-webclient/src/page/user/login.vue"],names:[],mappings:";AACA;EACE,iBAAiB;CAClB;AACD;EACE,0BAA0B;EAC1B,aAAa;EACb,sBAAsB;EACtB,aAAa;EACb,wCAAwC;UAChC,gCAAgC;CACzC",file:"login.vue",sourcesContent:["\n.input[data-v-73434f38] {\n  margin-top: 30px;\n}\n.loginBox[data-v-73434f38] {\n  border: 1px solid #eeeeee;\n  width: 600px;\n  display: inline-block;\n  margin: 50px;\n  -webkit-box-shadow: 8px 8px 5px #888888;\n          box-shadow: 8px 8px 5px #888888;\n}\n"],sourceRoot:""}])}});